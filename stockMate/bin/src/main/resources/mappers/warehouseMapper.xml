<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.stockm8.mapper.WarehouseMapper">

    <!-- ResultMap 정의 -->
    <resultMap id="WarehouseResultMap" type="com.stockm8.domain.WarehouseVO">
        <id property="warehouseId" column="warehouse_id" />
        <result property="warehouseName" column="warehouse_name" />
        <result property="location" column="location" />
        <result property="businessId" column="business_id" />
        <result property="managerId" column="manager_id" />
        <result property="createdAt" column="created_at" />
    </resultMap>

    <!-- 창고 등록 -->
    <insert id="insertWarehouse" parameterType="com.stockm8.domain.WarehouseVO">
        INSERT INTO warehouses (warehouse_name, location, business_id, manager_id)
        VALUES (#{warehouseName}, #{location}, #{businessId}, #{managerId})
    </insert>

    <!-- 창고 조회 -->
    <select id="SelectWarehouseById" parameterType="int" resultMap="WarehouseResultMap">
        SELECT * FROM warehouses WHERE warehouse_id = #{warehouseId}
    </select>

    <!-- 전체 창고 목록 조회 -->
    <select id="findAllWarehouses" resultMap="WarehouseResultMap">
        SELECT * FROM warehouses
    </select>

    <!-- 창고 정보 수정 -->
    <update id="updateWarehouse" parameterType="com.stockm8.domain.WarehouseVO">
        UPDATE warehouses
        SET warehouse_name = #{warehouseName},
            location = #{location},
            business_id = #{businessId},
            manager_id = #{managerId}
        WHERE warehouse_id = #{warehouseId}
    </update>

    <!-- 창고 삭제 -->
    <delete id="deleteWarehouseById" parameterType="int">
        DELETE FROM warehouses WHERE warehouse_id = #{warehouseId}
    </delete>
</mapper>